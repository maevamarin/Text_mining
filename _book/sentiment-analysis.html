<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Sentiment Analysis | Dicours Analysis</title>
  <meta name="description" content="Chapter 3 Sentiment Analysis | Dicours Analysis" />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Sentiment Analysis | Dicours Analysis" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Sentiment Analysis | Dicours Analysis" />
  
  
  

<meta name="author" content="Eugénie Mathieu, Maeva Marin, Hadrien Renger, Wajma Nazim" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="eda.html"/>
<link rel="next" href="similarities.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.15/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#overview-and-motivation"><i class="fa fa-check"></i><b>1.1</b> Overview and Motivation</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="eda.html"><a href="eda.html"><i class="fa fa-check"></i><b>2</b> EDA</a><ul>
<li class="chapter" data-level="2.1" data-path="eda.html"><a href="eda.html#data-acquisition"><i class="fa fa-check"></i><b>2.1</b> Data Acquisition</a><ul>
<li class="chapter" data-level="2.1.1" data-path="eda.html"><a href="eda.html#emmanuel-macron"><i class="fa fa-check"></i><b>2.1.1</b> Emmanuel Macron</a></li>
<li class="chapter" data-level="2.1.2" data-path="eda.html"><a href="eda.html#boris-johnson"><i class="fa fa-check"></i><b>2.1.2</b> Boris Johnson</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="eda.html"><a href="eda.html#tokenisation-lemmatization-cleaning"><i class="fa fa-check"></i><b>2.2</b> Tokenisation, Lemmatization &amp; Cleaning</a><ul>
<li class="chapter" data-level="2.2.1" data-path="eda.html"><a href="eda.html#emmanuel-macron-1"><i class="fa fa-check"></i><b>2.2.1</b> Emmanuel Macron</a></li>
<li class="chapter" data-level="2.2.2" data-path="eda.html"><a href="eda.html#boris-johnson-1"><i class="fa fa-check"></i><b>2.2.2</b> Boris Johnson</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="eda.html"><a href="eda.html#document-term-matrix-dtm"><i class="fa fa-check"></i><b>2.3</b> Document-Term Matrix DTM</a><ul>
<li class="chapter" data-level="2.3.1" data-path="eda.html"><a href="eda.html#table"><i class="fa fa-check"></i><b>2.3.1</b> Table</a></li>
<li class="chapter" data-level="2.3.2" data-path="eda.html"><a href="eda.html#most-frequent-words"><i class="fa fa-check"></i><b>2.3.2</b> Most frequent words</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="eda.html"><a href="eda.html#tf-idf"><i class="fa fa-check"></i><b>2.4</b> TF-IDF</a><ul>
<li class="chapter" data-level="2.4.1" data-path="eda.html"><a href="eda.html#emmanuel-macron-2"><i class="fa fa-check"></i><b>2.4.1</b> Emmanuel Macron</a></li>
<li class="chapter" data-level="2.4.2" data-path="eda.html"><a href="eda.html#boris-johnson-2"><i class="fa fa-check"></i><b>2.4.2</b> Boris Johnson</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="eda.html"><a href="eda.html#cloud-of-words"><i class="fa fa-check"></i><b>2.5</b> Cloud of Words</a><ul>
<li class="chapter" data-level="2.5.1" data-path="eda.html"><a href="eda.html#usind-dfm"><i class="fa fa-check"></i><b>2.5.1</b> Usind DFM</a></li>
<li class="chapter" data-level="2.5.2" data-path="eda.html"><a href="eda.html#using-tf-idf"><i class="fa fa-check"></i><b>2.5.2</b> Using TF-IDF</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="eda.html"><a href="eda.html#lexical-divesity-token-type-ratio-ttr"><i class="fa fa-check"></i><b>2.6</b> Lexical Divesity Token Type Ratio TTR</a><ul>
<li class="chapter" data-level="2.6.1" data-path="eda.html"><a href="eda.html#emmanuel-macron-3"><i class="fa fa-check"></i><b>2.6.1</b> Emmanuel Macron</a></li>
<li class="chapter" data-level="2.6.2" data-path="eda.html"><a href="eda.html#boris-johnson-3"><i class="fa fa-check"></i><b>2.6.2</b> Boris Johnson</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="eda.html"><a href="eda.html#zipfs-law"><i class="fa fa-check"></i><b>2.7</b> Zipf’s Law</a><ul>
<li class="chapter" data-level="2.7.1" data-path="eda.html"><a href="eda.html#emmanuel-macron-4"><i class="fa fa-check"></i><b>2.7.1</b> Emmanuel Macron</a></li>
<li class="chapter" data-level="2.7.2" data-path="eda.html"><a href="eda.html#boris-johnson-4"><i class="fa fa-check"></i><b>2.7.2</b> Boris Johnson</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="eda.html"><a href="eda.html#yules-index"><i class="fa fa-check"></i><b>2.8</b> Yule’s index</a><ul>
<li class="chapter" data-level="2.8.1" data-path="eda.html"><a href="eda.html#emmanuel-macron-5"><i class="fa fa-check"></i><b>2.8.1</b> Emmanuel Macron</a></li>
<li class="chapter" data-level="2.8.2" data-path="eda.html"><a href="eda.html#boris-johnson-5"><i class="fa fa-check"></i><b>2.8.2</b> Boris Johnson</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="eda.html"><a href="eda.html#mattr"><i class="fa fa-check"></i><b>2.9</b> MATTR</a><ul>
<li class="chapter" data-level="2.9.1" data-path="eda.html"><a href="eda.html#emmanuel-macron-6"><i class="fa fa-check"></i><b>2.9.1</b> Emmanuel Macron</a></li>
<li class="chapter" data-level="2.9.2" data-path="eda.html"><a href="eda.html#boris-johnson-6"><i class="fa fa-check"></i><b>2.9.2</b> Boris Johnson</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="sentiment-analysis.html"><a href="sentiment-analysis.html"><i class="fa fa-check"></i><b>3</b> Sentiment Analysis</a><ul>
<li class="chapter" data-level="3.1" data-path="sentiment-analysis.html"><a href="sentiment-analysis.html#analysis-with-the-nrc-library"><i class="fa fa-check"></i><b>3.1</b> Analysis with the “nrc” library</a></li>
<li class="chapter" data-level="3.2" data-path="sentiment-analysis.html"><a href="sentiment-analysis.html#analysis-with-the-lsd2015-dictionnary"><i class="fa fa-check"></i><b>3.2</b> Analysis with the LSD2015 dictionnary</a></li>
<li class="chapter" data-level="3.3" data-path="sentiment-analysis.html"><a href="sentiment-analysis.html#analysis-with-the-afinn-dictionnary"><i class="fa fa-check"></i><b>3.3</b> Analysis with the “afinn” dictionnary</a><ul>
<li class="chapter" data-level="3.3.1" data-path="sentiment-analysis.html"><a href="sentiment-analysis.html#analysis-using-nrc-dictionnary-and-valence-shifters"><i class="fa fa-check"></i><b>3.3.1</b> Analysis using “nrc”&quot; dictionnary and valence shifters</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="similarities.html"><a href="similarities.html"><i class="fa fa-check"></i><b>4</b> Similarities</a><ul>
<li class="chapter" data-level="4.1" data-path="similarities.html"><a href="similarities.html#boris"><i class="fa fa-check"></i><b>4.1</b> Boris</a></li>
<li class="chapter" data-level="4.2" data-path="similarities.html"><a href="similarities.html#macron"><i class="fa fa-check"></i><b>4.2</b> Macron</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="topic-modelling.html"><a href="topic-modelling.html"><i class="fa fa-check"></i><b>5</b> Topic Modelling</a><ul>
<li class="chapter" data-level="5.1" data-path="topic-modelling.html"><a href="topic-modelling.html#boris-johnson-7"><i class="fa fa-check"></i><b>5.1</b> Boris Johnson</a><ul>
<li class="chapter" data-level="5.1.1" data-path="topic-modelling.html"><a href="topic-modelling.html#lsa"><i class="fa fa-check"></i><b>5.1.1</b> LSA</a></li>
<li class="chapter" data-level="5.1.2" data-path="topic-modelling.html"><a href="topic-modelling.html#lda"><i class="fa fa-check"></i><b>5.1.2</b> LDA</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="topic-modelling.html"><a href="topic-modelling.html#macron-1"><i class="fa fa-check"></i><b>5.2</b> Macron</a><ul>
<li class="chapter" data-level="5.2.1" data-path="topic-modelling.html"><a href="topic-modelling.html#lsa-1"><i class="fa fa-check"></i><b>5.2.1</b> LSA</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="topic-modelling.html"><a href="topic-modelling.html#combine"><i class="fa fa-check"></i><b>5.3</b> Combine</a><ul>
<li class="chapter" data-level="5.3.1" data-path="topic-modelling.html"><a href="topic-modelling.html#lsa-2"><i class="fa fa-check"></i><b>5.3.1</b> LSA</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="word-embedding.html"><a href="word-embedding.html"><i class="fa fa-check"></i><b>6</b> Word Embedding</a><ul>
<li class="chapter" data-level="6.1" data-path="word-embedding.html"><a href="word-embedding.html#boris-johnson-8"><i class="fa fa-check"></i><b>6.1</b> Boris Johnson</a></li>
<li class="chapter" data-level="6.2" data-path="word-embedding.html"><a href="word-embedding.html#macron-2"><i class="fa fa-check"></i><b>6.2</b> Macron</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="supervised-learning.html"><a href="supervised-learning.html"><i class="fa fa-check"></i><b>7</b> Supervised learning</a><ul>
<li class="chapter" data-level="7.1" data-path="supervised-learning.html"><a href="supervised-learning.html#lsa-3"><i class="fa fa-check"></i><b>7.1</b> LSA</a></li>
<li class="chapter" data-level="7.2" data-path="supervised-learning.html"><a href="supervised-learning.html#random-forest"><i class="fa fa-check"></i><b>7.2</b> Random forest</a></li>
<li class="chapter" data-level="7.3" data-path="supervised-learning.html"><a href="supervised-learning.html#improving-the-features"><i class="fa fa-check"></i><b>7.3</b> Improving the features</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>8</b> Conclusion</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Dicours Analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="sentiment-analysis" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> Sentiment Analysis</h1>
<div id="analysis-with-the-nrc-library" class="section level2">
<h2><span class="header-section-number">3.1</span> Analysis with the “nrc” library</h2>
<p>We use the “nrc” dictionary to start our sentiment analysis on the discourses of our two politicians. It is a dictionnary qualifying tokens by specific sentiments and by labelling them “negative” or “positive”.</p>
<p>To do so, we will match the tokens of both corpuses with the dictionnary by applying an inner join. However, to use the inner_join function, we need a table object, what our objects are not primarily. We reload the data to create objects specific to this stage, boris_2 and macron_2, which are registered as tibble and allowing the use of the inner_join function.
From the token list per document boris.tok, we join the corresponding qualifier in nrc using an inner_joint:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1"><span class="co">#####################################################################################################################################</span></a>
<a class="sourceLine" id="cb28-2" data-line-number="2"><span class="co">##########################################  Let&#39;s start with the Boris Johnson&#39;s discourses    ######################################</span></a>
<a class="sourceLine" id="cb28-3" data-line-number="3"><span class="co">#####################################################################################################################################</span></a>
<a class="sourceLine" id="cb28-4" data-line-number="4"></a>
<a class="sourceLine" id="cb28-5" data-line-number="5">boris_<span class="dv">2</span>&lt;-<span class="kw">as.tibble</span>(</a>
<a class="sourceLine" id="cb28-6" data-line-number="6">  <span class="kw">c</span>(boris9mars,</a>
<a class="sourceLine" id="cb28-7" data-line-number="7">    boris12mars,</a>
<a class="sourceLine" id="cb28-8" data-line-number="8">    boris16mars,</a>
<a class="sourceLine" id="cb28-9" data-line-number="9">    boris18mars,</a>
<a class="sourceLine" id="cb28-10" data-line-number="10">    boris19mars,</a>
<a class="sourceLine" id="cb28-11" data-line-number="11">    boris20mars,</a>
<a class="sourceLine" id="cb28-12" data-line-number="12">    boris22mars)) <span class="co"># trick to get a &quot;tbl_df&quot;,&quot;tbl&quot;,&quot;data.frame&quot; compatible with the inner_join function</span></a></code></pre></div>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" data-line-number="1">DocumentB &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Text1&quot;</span>,<span class="st">&quot;Text2&quot;</span>,<span class="st">&quot;Text3&quot;</span>,<span class="st">&quot;Text4&quot;</span>,<span class="st">&quot;Text5&quot;</span>,<span class="st">&quot;Text6&quot;</span>,<span class="st">&quot;Text7&quot;</span>) <span class="co"># adding a column &quot;Document&quot; to have a landmark for the tokens</span></a>
<a class="sourceLine" id="cb29-2" data-line-number="2">boris_<span class="dv">2</span><span class="op">$</span>Document &lt;-<span class="st"> </span>DocumentB</a>
<a class="sourceLine" id="cb29-3" data-line-number="3">boris_<span class="dv">2</span> &lt;-<span class="st"> </span>boris_<span class="dv">2</span>[,<span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">1</span>)]</a>
<a class="sourceLine" id="cb29-4" data-line-number="4"></a>
<a class="sourceLine" id="cb29-5" data-line-number="5">boris_<span class="fl">2.</span>tok &lt;-<span class="st"> </span><span class="kw">unnest_tokens</span>(boris_<span class="dv">2</span>, </a>
<a class="sourceLine" id="cb29-6" data-line-number="6">                             <span class="dt">output=</span><span class="st">&quot;word&quot;</span>, </a>
<a class="sourceLine" id="cb29-7" data-line-number="7">                             <span class="dt">input=</span><span class="st">&quot;value&quot;</span>, </a>
<a class="sourceLine" id="cb29-8" data-line-number="8">                             <span class="dt">to_lower=</span><span class="ot">TRUE</span>, </a>
<a class="sourceLine" id="cb29-9" data-line-number="9">                             <span class="dt">strip_punct=</span><span class="ot">TRUE</span>, </a>
<a class="sourceLine" id="cb29-10" data-line-number="10">                             <span class="dt">strip_numeric=</span><span class="ot">TRUE</span>) <span class="co"># unnest tokens of the table</span></a>
<a class="sourceLine" id="cb29-11" data-line-number="11"></a>
<a class="sourceLine" id="cb29-12" data-line-number="12">boris_<span class="fl">2.</span>sent&lt;-<span class="st"> </span>boris_<span class="fl">2.</span>tok <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb29-13" data-line-number="13"><span class="st">  </span><span class="kw">inner_join</span>(<span class="kw">get_sentiments</span>(<span class="st">&quot;nrc&quot;</span>)) <span class="co"># do the inner join to merge the two tables</span></a>
<a class="sourceLine" id="cb29-14" data-line-number="14"></a>
<a class="sourceLine" id="cb29-15" data-line-number="15"><span class="co">######################################################################################################################################</span></a>
<a class="sourceLine" id="cb29-16" data-line-number="16"><span class="co">##########################################  Let&#39;s continue with the Macron&#39;s discourses    ###########################################</span></a>
<a class="sourceLine" id="cb29-17" data-line-number="17"><span class="co">######################################################################################################################################</span></a>
<a class="sourceLine" id="cb29-18" data-line-number="18"></a>
<a class="sourceLine" id="cb29-19" data-line-number="19">macron_<span class="dv">2</span>&lt;-<span class="kw">as.tibble</span>(</a>
<a class="sourceLine" id="cb29-20" data-line-number="20">  <span class="kw">c</span>(macron12march,</a>
<a class="sourceLine" id="cb29-21" data-line-number="21">    macron13april,</a>
<a class="sourceLine" id="cb29-22" data-line-number="22">    macron16march))         <span class="co"># trick to get a &quot;tbl_df&quot;,&quot;tbl&quot;,&quot;data.frame&quot; compatible with the inner_join function</span></a>
<a class="sourceLine" id="cb29-23" data-line-number="23">DocumentM &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Text1&quot;</span>,<span class="st">&quot;Text2&quot;</span>,<span class="st">&quot;Text3&quot;</span>) <span class="co"># adding a column &quot;Document&quot; to have a landmark for the tokens</span></a>
<a class="sourceLine" id="cb29-24" data-line-number="24">macron_<span class="dv">2</span><span class="op">$</span>Document &lt;-<span class="st"> </span>DocumentM</a>
<a class="sourceLine" id="cb29-25" data-line-number="25">macron_<span class="dv">2</span> &lt;-<span class="st"> </span>macron_<span class="dv">2</span>[,<span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">1</span>)]</a>
<a class="sourceLine" id="cb29-26" data-line-number="26"></a>
<a class="sourceLine" id="cb29-27" data-line-number="27">macron_<span class="fl">2.</span>tok &lt;-<span class="st"> </span><span class="kw">unnest_tokens</span>(macron_<span class="dv">2</span>, </a>
<a class="sourceLine" id="cb29-28" data-line-number="28">                             <span class="dt">output=</span><span class="st">&quot;word&quot;</span>, </a>
<a class="sourceLine" id="cb29-29" data-line-number="29">                             <span class="dt">input=</span><span class="st">&quot;value&quot;</span>, </a>
<a class="sourceLine" id="cb29-30" data-line-number="30">                             <span class="dt">to_lower=</span><span class="ot">TRUE</span>, </a>
<a class="sourceLine" id="cb29-31" data-line-number="31">                             <span class="dt">strip_punct=</span><span class="ot">TRUE</span>, </a>
<a class="sourceLine" id="cb29-32" data-line-number="32">                             <span class="dt">strip_numeric=</span><span class="ot">TRUE</span>) <span class="co"># unnest tokens of the table</span></a>
<a class="sourceLine" id="cb29-33" data-line-number="33"></a>
<a class="sourceLine" id="cb29-34" data-line-number="34">macron_<span class="fl">2.</span>sent&lt;-<span class="st"> </span>macron_<span class="fl">2.</span>tok <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb29-35" data-line-number="35"><span class="st">  </span><span class="kw">inner_join</span>(<span class="kw">get_sentiments</span>(<span class="st">&quot;nrc&quot;</span>)) <span class="co"># do the inner join to merge the two tables</span></a></code></pre></div>
<p>After creating our objects, we investigate which sentiment are present in Boris Johnson’s discourses. To do so, we use a numerical and a graphical method.</p>
<p>The numerical method is simply a matrix of the frequency of tokens identified to a certain sentiment. Remind that a word can have more than 1 sentiment, which can lead to slight an overestimation of the sentiment.</p>
<p>The table below presents positive discourses from the UK’s First Minister which are mainly weighted by the sentiment “trust”. We could have assumed that the discourse would be reassuring in order to avoid any panic due to the inedite circumstances of the covid. “Anticipation” is as well high, for the same reason (annoucement of the futures measures ans aaniticpations of the consequences, e.g.)</p>
<p>However, postive sentiments are balanced by the relative high score of the fear, followed by disgust and anger. In absolute values, the most sentimental discourse was the second public word, on March 12th 2020.</p>
<p>The graphical representations of the sentiments among discourses enables us a quick glimpse on these results.
The discourses of the Prime Minister are animated by the current need. As said before, our data sets include 7 speeches in 14 days: the Prime Minister speaks more often in order to monitor a close relationship with UK citizen while given the daily progress in the covid-19 handling.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" data-line-number="1"><span class="kw">table</span>(boris_<span class="fl">2.</span>sent<span class="op">$</span>Document,boris_<span class="fl">2.</span>sent<span class="op">$</span>sentiment) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">kable</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">kable_styling</span>() <span class="co"># sentiment terms per document</span></a></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
anger
</th>
<th style="text-align:right;">
anticipation
</th>
<th style="text-align:right;">
disgust
</th>
<th style="text-align:right;">
fear
</th>
<th style="text-align:right;">
joy
</th>
<th style="text-align:right;">
negative
</th>
<th style="text-align:right;">
positive
</th>
<th style="text-align:right;">
sadness
</th>
<th style="text-align:right;">
surprise
</th>
<th style="text-align:right;">
trust
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Text1
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
33
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
24
</td>
</tr>
<tr>
<td style="text-align:left;">
Text2
</td>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
33
</td>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
33
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
63
</td>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
45
</td>
</tr>
<tr>
<td style="text-align:left;">
Text3
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
25
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
23
</td>
<td style="text-align:right;">
46
</td>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
31
</td>
</tr>
<tr>
<td style="text-align:left;">
Text4
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
24
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
35
</td>
</tr>
<tr>
<td style="text-align:left;">
Text5
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
19
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
24
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
19
</td>
</tr>
<tr>
<td style="text-align:left;">
Text6
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;">
45
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
35
</td>
</tr>
<tr>
<td style="text-align:left;">
Text7
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
26
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
23
</td>
</tr>
</tbody>
</table>
<p>The graphical representation of the sentiments among discourses enables us a quick glimpse on these results.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1">boris_<span class="fl">2.</span>sent <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb31-2" data-line-number="2"><span class="st">  </span><span class="kw">group_by</span>(Document,sentiment) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb31-3" data-line-number="3"><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">n=</span><span class="kw">n</span>())<span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb31-4" data-line-number="4"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">freq=</span>n<span class="op">/</span><span class="kw">sum</span>(n)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb31-5" data-line-number="5"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>sentiment,<span class="dt">y=</span>freq,<span class="dt">fill=</span>sentiment)) <span class="op">+</span></a>
<a class="sourceLine" id="cb31-6" data-line-number="6"><span class="st">  </span><span class="kw">geom_bar</span>(<span class="dt">stat=</span><span class="st">&quot;identity&quot;</span>,<span class="dt">alpha=</span><span class="fl">0.8</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb31-7" data-line-number="7"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>Document) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb31-8" data-line-number="8"><span class="st">  </span><span class="kw">coord_flip</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb31-9" data-line-number="9"><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Boris Johnson: Graphical representation of the sentiment per text&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb31-10" data-line-number="10"><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Frequencies of the sentiments&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb31-11" data-line-number="11"><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Sentiment&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb31-12" data-line-number="12"><span class="st"> </span><span class="kw">geom_text</span>(<span class="kw">aes</span>(<span class="dt">label =</span> n), <span class="dt">size =</span> <span class="dv">3</span>, <span class="dt">hjust =</span> <span class="dv">1</span>, <span class="dt">vjust =</span> <span class="dv">0</span>, <span class="dt">position =</span> <span class="st">&quot;stack&quot;</span>)</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-18"></span>
<img src="Text-Mining_files/figure-html/unnamed-chunk-18-1.png" alt="Boris Johnson: Graphical representation of the sentiment per text" width="70%" />
<p class="caption">
Figure 3.1: Boris Johnson: Graphical representation of the sentiment per text
</p>
</div>
<p>By looking now at the discourses of Macron using the same method, we note the seemingly same frequencies of sentiments in the table below. His words appear to be carefully built and the variance is very low, perhaps to give the impression to have a stable and coherent speeches overtime.</p>
<p>The categories of sentiments are quite similarly distributed: the speeches are positive marked by trust and anticipation.</p>
<p>The proportions in the barplots are the same for speech 1, 2, and 3. We might assume they are based on a specific inner structure.
The construction of text The French President would read is cautiously studied.
This point, combined with the observation on the length, is interesting: Emmanuel Macron speaks more during less public orations, in order to have more powerful public interventions</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" data-line-number="1"><span class="kw">table</span>(macron_<span class="fl">2.</span>sent<span class="op">$</span>Document,macron_<span class="fl">2.</span>sent<span class="op">$</span>sentiment) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">kable</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">kable_styling</span>() <span class="co"># sentiment terms per document</span></a></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
anger
</th>
<th style="text-align:right;">
anticipation
</th>
<th style="text-align:right;">
disgust
</th>
<th style="text-align:right;">
fear
</th>
<th style="text-align:right;">
joy
</th>
<th style="text-align:right;">
negative
</th>
<th style="text-align:right;">
positive
</th>
<th style="text-align:right;">
sadness
</th>
<th style="text-align:right;">
surprise
</th>
<th style="text-align:right;">
trust
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Text1
</td>
<td style="text-align:right;">
26
</td>
<td style="text-align:right;">
88
</td>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
73
</td>
<td style="text-align:right;">
39
</td>
<td style="text-align:right;">
109
</td>
<td style="text-align:right;">
196
</td>
<td style="text-align:right;">
43
</td>
<td style="text-align:right;">
33
</td>
<td style="text-align:right;">
122
</td>
</tr>
<tr>
<td style="text-align:left;">
Text2
</td>
<td style="text-align:right;">
29
</td>
<td style="text-align:right;">
96
</td>
<td style="text-align:right;">
21
</td>
<td style="text-align:right;">
63
</td>
<td style="text-align:right;">
46
</td>
<td style="text-align:right;">
105
</td>
<td style="text-align:right;">
188
</td>
<td style="text-align:right;">
44
</td>
<td style="text-align:right;">
31
</td>
<td style="text-align:right;">
107
</td>
</tr>
<tr>
<td style="text-align:left;">
Text3
</td>
<td style="text-align:right;">
25
</td>
<td style="text-align:right;">
63
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
52
</td>
<td style="text-align:right;">
25
</td>
<td style="text-align:right;">
92
</td>
<td style="text-align:right;">
149
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;">
102
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" data-line-number="1">macron_<span class="fl">2.</span>sent <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb33-2" data-line-number="2"><span class="st">  </span><span class="kw">group_by</span>(Document,sentiment) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb33-3" data-line-number="3"><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">n=</span><span class="kw">n</span>())<span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb33-4" data-line-number="4"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">freq=</span>n<span class="op">/</span><span class="kw">sum</span>(n)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb33-5" data-line-number="5"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>sentiment,<span class="dt">y=</span>freq,<span class="dt">fill=</span>sentiment)) <span class="op">+</span></a>
<a class="sourceLine" id="cb33-6" data-line-number="6"><span class="st">  </span><span class="kw">geom_bar</span>(<span class="dt">stat=</span><span class="st">&quot;identity&quot;</span>,<span class="dt">alpha=</span><span class="fl">0.8</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb33-7" data-line-number="7"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>Document) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb33-8" data-line-number="8"><span class="st">  </span><span class="kw">coord_flip</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb33-9" data-line-number="9"><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Graphical representation of the sentiment per text&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb33-10" data-line-number="10"><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Frequencies of the sentiments&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb33-11" data-line-number="11"><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Sentiment&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb33-12" data-line-number="12"><span class="st">    </span><span class="kw">geom_text</span>(<span class="kw">aes</span>(<span class="dt">label =</span> n), <span class="dt">size =</span><span class="dv">3</span>, <span class="dt">hjust =</span> <span class="dv">1</span>, <span class="dt">vjust =</span> <span class="dv">0</span>, <span class="dt">position =</span> <span class="st">&quot;stack&quot;</span>)</a></code></pre></div>
<p><img src="Text-Mining_files/figure-html/unnamed-chunk-20-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="analysis-with-the-lsd2015-dictionnary" class="section level2">
<h2><span class="header-section-number">3.2</span> Analysis with the LSD2015 dictionnary</h2>
<p>In order to better analyse those results and fortify those insights, we double check with the dictionnary LSD2015. It is another dictionnary assigning a qualifier to terms. The difference with tidytext is essentially in the manipulation of the objects: it handles the “tokens” class and for this reason we have to recode our objects. The results are impacted by this different treatment and we do expect slight changes.</p>
<p>As the figure <a href="sentiment-analysis.html#fig:plot-quanteda">3.2</a> shows, the results of Text 2 as the most positive and all the discourses as majoritarily positive are confirmed. For Macron’s speeches, the proportions of sentiments differs: the first discourse is associated with more postive sentiment (224) relatively to proportion computed with the “nrc” dictionnary (193). However, the trend remains the same.</p>
<p>We keep in mind that difference in length of texts explains the varying size of the bar, as previously. Anyway both findings converge to the same points.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" data-line-number="1"><span class="co">######################################################################################################################################</span></a>
<a class="sourceLine" id="cb34-2" data-line-number="2"><span class="co">##########################################  Let&#39;s start with the Johnson&#39;s discourses    ###########################################</span></a>
<a class="sourceLine" id="cb34-3" data-line-number="3"><span class="co">######################################################################################################################################</span></a>
<a class="sourceLine" id="cb34-4" data-line-number="4"></a>
<a class="sourceLine" id="cb34-5" data-line-number="5">boris.cp&lt;-<span class="kw">corpus</span>(<span class="kw">c</span>(boris9mars,boris12mars,boris16mars,boris18mars,boris19mars,boris20mars,boris22mars))</a>
<a class="sourceLine" id="cb34-6" data-line-number="6"><span class="kw">summary</span>(boris.cp)</a></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
Text
</th>
<th style="text-align:right;">
Types
</th>
<th style="text-align:right;">
Tokens
</th>
<th style="text-align:right;">
Sentences
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
text1
</td>
<td style="text-align:right;">
266
</td>
<td style="text-align:right;">
609
</td>
<td style="text-align:right;">
23
</td>
</tr>
<tr>
<td style="text-align:left;">
text2
</td>
<td style="text-align:right;">
409
</td>
<td style="text-align:right;">
1222
</td>
<td style="text-align:right;">
50
</td>
</tr>
<tr>
<td style="text-align:left;">
text3
</td>
<td style="text-align:right;">
405
</td>
<td style="text-align:right;">
1231
</td>
<td style="text-align:right;">
43
</td>
</tr>
<tr>
<td style="text-align:left;">
text4
</td>
<td style="text-align:right;">
406
</td>
<td style="text-align:right;">
1230
</td>
<td style="text-align:right;">
52
</td>
</tr>
<tr>
<td style="text-align:left;">
text5
</td>
<td style="text-align:right;">
321
</td>
<td style="text-align:right;">
994
</td>
<td style="text-align:right;">
37
</td>
</tr>
<tr>
<td style="text-align:left;">
text6
</td>
<td style="text-align:right;">
357
</td>
<td style="text-align:right;">
1030
</td>
<td style="text-align:right;">
47
</td>
</tr>
<tr>
<td style="text-align:left;">
text7
</td>
<td style="text-align:right;">
300
</td>
<td style="text-align:right;">
793
</td>
<td style="text-align:right;">
35
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" data-line-number="1"></a>
<a class="sourceLine" id="cb35-2" data-line-number="2">boris.tk&lt;-<span class="kw">tokens</span>(boris.cp,</a>
<a class="sourceLine" id="cb35-3" data-line-number="3">                 <span class="dt">remove_numbers =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb35-4" data-line-number="4">                 <span class="dt">remove_punct =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb35-5" data-line-number="5">                 <span class="dt">remove_symbols =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb35-6" data-line-number="6">                 <span class="dt">remove_separators =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb35-7" data-line-number="7"></a>
<a class="sourceLine" id="cb35-8" data-line-number="8">boris.tk&lt;-<span class="kw">tokens_tolower</span>(boris.tk)</a>
<a class="sourceLine" id="cb35-9" data-line-number="9">boris.tk&lt;-<span class="st"> </span><span class="kw">tokens_replace</span>(boris.tk,<span class="dt">pattern =</span> hash_lemmas<span class="op">$</span>token, <span class="dt">replacement =</span> hash_lemmas<span class="op">$</span>lemma)</a>
<a class="sourceLine" id="cb35-10" data-line-number="10">boris.tk&lt;-boris.tk <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb35-11" data-line-number="11"><span class="st">  </span><span class="kw">tokens_remove</span>(<span class="kw">stopwords</span>(<span class="st">&quot;english&quot;</span>))</a>
<a class="sourceLine" id="cb35-12" data-line-number="12"></a>
<a class="sourceLine" id="cb35-13" data-line-number="13">boris.sent&lt;-<span class="st"> </span><span class="kw">tokens_lookup</span>(boris.tk,<span class="dt">dictionary =</span> data_dictionary_LSD2015) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">dfm</span>() <span class="op">%&gt;%</span><span class="st"> </span>tidy </a>
<a class="sourceLine" id="cb35-14" data-line-number="14">boris.plot.quanteda &lt;-<span class="st"> </span><span class="kw">ggplot</span>(boris.sent, <span class="kw">aes</span>( <span class="dt">x =</span> document, <span class="dt">y =</span> count, <span class="dt">fill =</span> term)) <span class="op">+</span></a>
<a class="sourceLine" id="cb35-15" data-line-number="15"><span class="st">  </span><span class="kw">geom_bar</span>(<span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">coord_flip</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb35-16" data-line-number="16"><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Johnson: Proportion of sentiment using the dictionnary LSD2015&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb35-17" data-line-number="17"><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Document&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb35-18" data-line-number="18"><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Number of terms attributed to negative and positive sentiments&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb35-19" data-line-number="19"><span class="st">    </span><span class="kw">geom_text</span>(<span class="kw">aes</span>(<span class="dt">label =</span> count), <span class="dt">size =</span><span class="dv">3</span>, <span class="dt">hjust =</span> <span class="dv">5</span>, <span class="dt">vjust =</span> <span class="dv">0</span>, <span class="dt">position =</span> <span class="st">&quot;stack&quot;</span>)</a>
<a class="sourceLine" id="cb35-20" data-line-number="20"></a>
<a class="sourceLine" id="cb35-21" data-line-number="21"></a>
<a class="sourceLine" id="cb35-22" data-line-number="22"></a>
<a class="sourceLine" id="cb35-23" data-line-number="23"><span class="co">######################################################################################################################################</span></a>
<a class="sourceLine" id="cb35-24" data-line-number="24"><span class="co">##########################################  Let&#39;s continue with the Macron&#39;s discourses    ###########################################</span></a>
<a class="sourceLine" id="cb35-25" data-line-number="25"><span class="co">######################################################################################################################################</span></a>
<a class="sourceLine" id="cb35-26" data-line-number="26">macron.cp&lt;-<span class="kw">corpus</span>(<span class="kw">c</span>(macron12march,macron13april,macron16march))</a>
<a class="sourceLine" id="cb35-27" data-line-number="27">macron.tk&lt;-<span class="kw">tokens</span>(macron.cp,</a>
<a class="sourceLine" id="cb35-28" data-line-number="28">                 <span class="dt">remove_numbers =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb35-29" data-line-number="29">                 <span class="dt">remove_punct =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb35-30" data-line-number="30">                 <span class="dt">remove_symbols =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb35-31" data-line-number="31">                 <span class="dt">remove_separators =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb35-32" data-line-number="32"></a>
<a class="sourceLine" id="cb35-33" data-line-number="33">macron.tk&lt;-<span class="kw">tokens_tolower</span>(macron.tk)</a>
<a class="sourceLine" id="cb35-34" data-line-number="34">macron.tk&lt;-<span class="st"> </span><span class="kw">tokens_replace</span>(macron.tk,<span class="dt">pattern =</span> hash_lemmas<span class="op">$</span>token, <span class="dt">replacement =</span> hash_lemmas<span class="op">$</span>lemma)</a>
<a class="sourceLine" id="cb35-35" data-line-number="35">macron.tk&lt;-macron.tk <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb35-36" data-line-number="36"><span class="st">  </span><span class="kw">tokens_remove</span>(<span class="kw">stopwords</span>(<span class="st">&quot;english&quot;</span>))</a>
<a class="sourceLine" id="cb35-37" data-line-number="37"></a>
<a class="sourceLine" id="cb35-38" data-line-number="38">macron.sent&lt;-<span class="st"> </span><span class="kw">tokens_lookup</span>(macron.tk,<span class="dt">dictionary =</span> data_dictionary_LSD2015) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">dfm</span>() <span class="op">%&gt;%</span><span class="st"> </span>tidy </a>
<a class="sourceLine" id="cb35-39" data-line-number="39">macron.plot.quanteda&lt;-<span class="st"> </span><span class="kw">ggplot</span>(macron.sent, <span class="kw">aes</span>( <span class="dt">x =</span> document, <span class="dt">y =</span> count, <span class="dt">fill =</span> term)) <span class="op">+</span></a>
<a class="sourceLine" id="cb35-40" data-line-number="40"><span class="st">  </span><span class="kw">geom_bar</span>(<span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">coord_flip</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb35-41" data-line-number="41"><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Macron: Proportion of sentiment using the dictionnary LSD2015&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb35-42" data-line-number="42"><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Document&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb35-43" data-line-number="43"><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Number of terms attributed to negative and positive sentiments&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb35-44" data-line-number="44"><span class="st">    </span><span class="kw">geom_text</span>(<span class="kw">aes</span>(<span class="dt">label =</span> count), <span class="dt">size =</span><span class="dv">3</span>, <span class="dt">hjust =</span> <span class="dv">5</span>, <span class="dt">vjust =</span> <span class="dv">0</span>, <span class="dt">position =</span> <span class="st">&quot;stack&quot;</span>)</a>
<a class="sourceLine" id="cb35-45" data-line-number="45"></a>
<a class="sourceLine" id="cb35-46" data-line-number="46"><span class="kw">grid.arrange</span>(boris.plot.quanteda,macron.plot.quanteda)</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:plot-quanteda"></span>
<img src="Text-Mining_files/figure-html/plot-quanteda-1.png" alt="Proportion of sentiment using the dictionnary LSD2015" width="70%" />
<p class="caption">
Figure 3.2: Proportion of sentiment using the dictionnary LSD2015
</p>
</div>
</div>
<div id="analysis-with-the-afinn-dictionnary" class="section level2">
<h2><span class="header-section-number">3.3</span> Analysis with the “afinn” dictionnary</h2>
<p>We now use a different approach: a quantitative way to assess the sentiment analysis. To do so, we use the “afinn” dictionnary which attributes a value to the word, taking into account the power conveyed by the term (value between 0 and 1) and its qualitative classification (positive or neagtive sign). The classification of the words was encoded differently than for the “nrc” dictionnary. Again, we do expect different scores, but hopefully in the same direction.</p>
<p>The results displayed by the figure <a href="sentiment-analysis.html#fig:plot-afinn">3.3</a> are derived from an average score of sentiment per document. For the Boris Johnson’s speeches, the second one has a contradictory score with the previous results: it belongs to the lowest scored text in positive sentiments.</p>
<p>We can thus observe the difference in encodage among dictionnaries used in Text Mining. The “afinn” dictionnarywas encoded by a Danish Professor, LSD2015 by two American professors, and “nrc” by a Canadian professors working in an Commision on Ethics. The categorization is subjective and lead to substantial differences. Those results need to be mitigate by a last approach: the use of valence shifters.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb36-1" data-line-number="1"><span class="co">######################################################################################################################################</span></a>
<a class="sourceLine" id="cb36-2" data-line-number="2"><span class="co">##########################################  Let&#39;s continue with the Johnson&#39;s discourses    ###########################################</span></a>
<a class="sourceLine" id="cb36-3" data-line-number="3"><span class="co">######################################################################################################################################</span></a>
<a class="sourceLine" id="cb36-4" data-line-number="4"></a>
<a class="sourceLine" id="cb36-5" data-line-number="5">boris_<span class="fl">2.</span>sent &lt;-<span class="st"> </span>boris_<span class="fl">2.</span>tok <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb36-6" data-line-number="6"><span class="st">  </span><span class="kw">inner_join</span>(<span class="kw">get_sentiments</span>(<span class="st">&quot;afinn&quot;</span>))</a>
<a class="sourceLine" id="cb36-7" data-line-number="7"></a>
<a class="sourceLine" id="cb36-8" data-line-number="8">boris.plot.afinn&lt;-<span class="kw">aggregate</span>(value<span class="op">~</span>Document, <span class="dt">data =</span>boris_<span class="fl">2.</span>sent,<span class="dt">FUN=</span>mean) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb36-9" data-line-number="9"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>Document,<span class="dt">y=</span>value, <span class="dt">fill =</span> Document)) <span class="op">+</span></a>
<a class="sourceLine" id="cb36-10" data-line-number="10"><span class="st">  </span><span class="kw">geom_bar</span>(<span class="dt">stat=</span><span class="st">&quot;identity&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb36-11" data-line-number="11"><span class="st">  </span><span class="kw">coord_flip</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb36-12" data-line-number="12"><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Johnson: Sentiment score per text by using afinn dictionnary&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb36-13" data-line-number="13"><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Document&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb36-14" data-line-number="14"><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Score value&quot;</span>)</a>
<a class="sourceLine" id="cb36-15" data-line-number="15"></a>
<a class="sourceLine" id="cb36-16" data-line-number="16"><span class="co">######################################################################################################################################</span></a>
<a class="sourceLine" id="cb36-17" data-line-number="17"><span class="co">##########################################  Let&#39;s continue with the Macron&#39;s discourses    ###########################################</span></a>
<a class="sourceLine" id="cb36-18" data-line-number="18"><span class="co">######################################################################################################################################</span></a>
<a class="sourceLine" id="cb36-19" data-line-number="19"></a>
<a class="sourceLine" id="cb36-20" data-line-number="20"></a>
<a class="sourceLine" id="cb36-21" data-line-number="21">macron_<span class="fl">2.</span>sent &lt;-<span class="st"> </span>macron_<span class="fl">2.</span>tok <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb36-22" data-line-number="22"><span class="st">  </span><span class="kw">inner_join</span>(<span class="kw">get_sentiments</span>(<span class="st">&quot;afinn&quot;</span>))</a>
<a class="sourceLine" id="cb36-23" data-line-number="23"></a>
<a class="sourceLine" id="cb36-24" data-line-number="24">macron.plot.afinn &lt;-<span class="st"> </span><span class="kw">aggregate</span>(value<span class="op">~</span>Document, <span class="dt">data =</span>macron_<span class="fl">2.</span>sent,<span class="dt">FUN=</span>mean) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb36-25" data-line-number="25"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>Document,<span class="dt">y=</span>value, <span class="dt">fill =</span> Document)) <span class="op">+</span></a>
<a class="sourceLine" id="cb36-26" data-line-number="26"><span class="st">  </span><span class="kw">geom_bar</span>(<span class="dt">stat=</span><span class="st">&quot;identity&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb36-27" data-line-number="27"><span class="st">  </span><span class="kw">coord_flip</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb36-28" data-line-number="28"><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Macron: Sentiment score per text by using afinn dictionnary&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb36-29" data-line-number="29"><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Document&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb36-30" data-line-number="30"><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Score value&quot;</span>)</a>
<a class="sourceLine" id="cb36-31" data-line-number="31"></a>
<a class="sourceLine" id="cb36-32" data-line-number="32"><span class="kw">grid.arrange</span>(boris.plot.afinn,macron.plot.afinn)</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:plot-afinn"></span>
<img src="Text-Mining_files/figure-html/plot-afinn-1.png" alt="Graphical representation: Sentiment score per text by using afinn dictionnary" width="70%" />
<p class="caption">
Figure 3.3: Graphical representation: Sentiment score per text by using afinn dictionnary
</p>
</div>
<div id="analysis-using-nrc-dictionnary-and-valence-shifters" class="section level3">
<h3><span class="header-section-number">3.3.1</span> Analysis using “nrc”&quot; dictionnary and valence shifters</h3>
<p>The sentimentr library offers some function to compute sentiments integrating valence shiters. There are specific words which amplify or reduce the power of a word, even turn it into the reverse sentiment. We evaluate sentences here, and one important aspect is that it cannot be applied to a Bag Of Word model, since the word order is necessary.</p>
<p>The valence shifters extract more acurately the sentiment ouf of the text, since it consider the sentiment conveyed by a sentence and not only words without context. We should take the insights given by valence shifters as the ultimate confirmation test for the previous results. The results are displayed by the plot <a href="sentiment-analysis.html#fig:plot-valence-shifter">3.4</a>.</p>
<p>The second discourse of the Prime Minister here is one of the longest: it contains about 50 sentences and is only preceded by the fourth public word, on March 18th. It is the one varying the most in sentiment, what might explains the dffference in values observed between LSD2015&amp;nrc with afinn dictionnary. Why? Simply because it was the first speech speaking openly about the covid and the serious measures to take. The sixth one shows one positive peak, what correspond to the moment whn Boris Johnson strengthened the measures and made a speech to reassure UK citizen. At this time, the measures taken weremore rigid: thre spread of the virus had intensifyied. He brought information with positive sentiments to unify the population under the new circumstances and to push the to obey by showing them the positive impact of respecting stonger measures.</p>
<p>Macron’s speeches are well longer, three times more than Boris Johnson’s ones, as we observe in the second plot. His words are generally more neutral but convey sometimes strong negative sentiments, like the 4th sentence. Actually, this sentence is not strongly negative but uses terms which are: “In the vast majority of cases, COVID-19 does not pose a threat, but the virus can have very serious consequences, especially for those of our fellow citizens who are elderly or suffer from chronic illnesses such as diabetes, obesity or cancer”. The variation of the sentiments is greater in the last allocution, on April 13th 2020. Serious + consequences, chronic + illness, diabete+ obesity + cancer aside amplify the seriousness of the sentence. We observe as well a greater variation in sentiments the last allocution of Emmanuel Macon, on April 13th 2020. It corresponds to the moment when the situation became critical in France. The President emphasizes the serious danger of the covid, the sanitary situation being worse than in UK.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb37-1" data-line-number="1">boris.text&lt;-<span class="kw">get_sentences</span>(boris)</a>
<a class="sourceLine" id="cb37-2" data-line-number="2">boris.senti&lt;-<span class="kw">sentiment</span>(boris.text)</a>
<a class="sourceLine" id="cb37-3" data-line-number="3">boris.senti&lt;-<span class="kw">as_tibble</span>(boris.senti)</a>
<a class="sourceLine" id="cb37-4" data-line-number="4">boris.senti<span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(element_id) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb37-5" data-line-number="5"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>sentence_id,<span class="dt">y=</span>sentiment, <span class="dt">col =</span> element_id )) <span class="op">+</span></a>
<a class="sourceLine" id="cb37-6" data-line-number="6"><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb37-7" data-line-number="7"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>element_id) <span class="op">+</span></a>
<a class="sourceLine" id="cb37-8" data-line-number="8"><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Johnson: Evolution of the sentiments </span><span class="ch">\n</span><span class="st">within speeches using valence shifters&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb37-9" data-line-number="9"><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Document&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb37-10" data-line-number="10"><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Sentences in speeches&quot;</span>)</a>
<a class="sourceLine" id="cb37-11" data-line-number="11"></a>
<a class="sourceLine" id="cb37-12" data-line-number="12"><span class="co">######################################################################################################################################</span></a>
<a class="sourceLine" id="cb37-13" data-line-number="13"><span class="co">##########################################  Let&#39;s continue with the Macron&#39;s discourses    ###########################################</span></a>
<a class="sourceLine" id="cb37-14" data-line-number="14"><span class="co">######################################################################################################################################</span></a>
<a class="sourceLine" id="cb37-15" data-line-number="15"></a>
<a class="sourceLine" id="cb37-16" data-line-number="16">macron.text&lt;-<span class="kw">get_sentences</span>(macron)</a>
<a class="sourceLine" id="cb37-17" data-line-number="17">macron.senti&lt;-<span class="kw">sentiment</span>(macron.text)</a>
<a class="sourceLine" id="cb37-18" data-line-number="18">macron.senti&lt;-<span class="kw">as_tibble</span>(macron.senti)</a>
<a class="sourceLine" id="cb37-19" data-line-number="19"></a>
<a class="sourceLine" id="cb37-20" data-line-number="20">macron.senti<span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(element_id) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb37-21" data-line-number="21"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>sentence_id,<span class="dt">y=</span>sentiment, <span class="dt">col =</span> element_id )) <span class="op">+</span></a>
<a class="sourceLine" id="cb37-22" data-line-number="22"><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb37-23" data-line-number="23"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>element_id) <span class="op">+</span></a>
<a class="sourceLine" id="cb37-24" data-line-number="24"><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Macron: Evolution of the sentiments </span><span class="ch">\n</span><span class="st">within speeches  using valence shifters&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb37-25" data-line-number="25"><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Document&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb37-26" data-line-number="26"><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Sentences in speeches&quot;</span>)</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:plot-valence-shifter"></span>
<img src="Text-Mining_files/figure-html/plot-valence-shifter-1.png" alt="Evolution of the sentiments within speeches  using valence shifters" width="70%" /><img src="Text-Mining_files/figure-html/plot-valence-shifter-2.png" alt="Evolution of the sentiments within speeches  using valence shifters" width="70%" />
<p class="caption">
Figure 3.4: Evolution of the sentiments within speeches using valence shifters
</p>
</div>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="eda.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="similarities.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
